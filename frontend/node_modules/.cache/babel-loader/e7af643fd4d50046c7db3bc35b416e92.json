{"ast":null,"code":"var _jsxFileName = \"/home/seva/Desktop/textilespot-master/frontend/src/component/FAQ.tsx\";\nimport React from 'react';\nimport { gql } from \"apollo-boost\";\nimport { useQuery, useMutation } from 'react-apollo';\nimport s from \"./FAQ/FAQ.module.css\";\nimport cn from \"classnames\";\nimport Preloader from \"./Preloader/preloader\";\nconst Query_Groups = gql`\n  query {\n    FAQGroups {\n        Title,\n        id\n    }\n}`;\nconst Query_Item = gql`\n  query {\n    FAQItems{\n        Title\n        Group{\n        id\n        Title\n      }\n        Answer\n        Active\n        id\n}\n}`;\nconst Update_Item = gql`\nmutation updateItem($id: ID $Title: String $Group: ID $Active: Boolean $Answer: String){\n  updateItem(id: $id ,input:{\n    Title: $Title,\n    Group: $Group,\n    Answer: $Answer,\n    Active: $Active\n  }){\n    item{\n      Title\n      Group{\n        id\n        Title\n      }\n      Answer\n      Active\n      id\n    }\n  }\n}\n`;\nexport const FrequentlyAskedQuestions = () => {\n  const [updateItem] = useMutation(Update_Item);\n\n  const OnClick = item => {\n    debugger;\n    const id = Number(item.id);\n    updateItem({\n      variables: {\n        id: id,\n        Title: item.Title,\n        Group: Number(item.Group.id),\n        Answer: item.Answer,\n        Active: !item.Active\n      }\n    });\n  };\n\n  const {\n    data,\n    loading\n  } = useQuery(Query_Groups, {\n    pollInterval: 500 // refetch the result every 0.5 second\n\n  });\n\n  const SuitableItems = props => {\n    const {\n      data,\n      loading\n    } = useQuery(Query_Item, {\n      pollInterval: 500 // refetch the result every 0.5 second\n\n    });\n    debugger;\n    if (loading) return /*#__PURE__*/React.createElement(Preloader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }); // if (!data.items.edges.node) return <Preloader/>\n\n    const suitableItems = data.FAQItems.filter(i => Number(i.Group.id) === Number(props.Id));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: props.Id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, suitableItems.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 51\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: [s.item, \"d-flex justify-content-between d-flex align-items-center\"].join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 116\n      }\n    }, item.Title), /*#__PURE__*/React.createElement(\"div\", {\n      className: cn({\n        [s.active]: item.Active\n      }, s.menu_toogle),\n      onClick: () => OnClick(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: cn({\n        [s.active]: item.Active\n      }, s.group, s.dropdown),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }, item.Answer))));\n  };\n\n  if (loading) return /*#__PURE__*/React.createElement(Preloader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: s.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"container text-center mt-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"FAQ\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"middle text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"In a professional context it often happens that private or corporate\"), data.FAQGroups.map(group => /*#__PURE__*/React.createElement(\"div\", {\n    key: group.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row border-bottom ml-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: s.group,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 66\n    }\n  }, group.Title)), /*#__PURE__*/React.createElement(SuitableItems, {\n    Id: group.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }))));\n};","map":{"version":3,"sources":["/home/seva/Desktop/textilespot-master/frontend/src/component/FAQ.tsx"],"names":["React","gql","useQuery","useMutation","s","cn","Preloader","Query_Groups","Query_Item","Update_Item","FrequentlyAskedQuestions","updateItem","OnClick","item","id","Number","variables","Title","Group","Answer","Active","data","loading","pollInterval","SuitableItems","props","suitableItems","FAQItems","filter","i","Id","map","join","active","menu_toogle","group","dropdown","main","FAQGroups"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {gql} from \"apollo-boost\";\nimport {useQuery, useMutation} from 'react-apollo';\nimport s from \"./FAQ/FAQ.module.css\";\nimport cn from \"classnames\";\nimport Preloader from \"./Preloader/preloader\";\nimport {returnErrors} from \"../redux/reducers/ErrorsReducer\";\nimport {initialStateType} from \"../redux/reducers/ProfileReducer\";\n\nconst Query_Groups = gql`\n  query {\n    FAQGroups {\n        Title,\n        id\n    }\n}`;\n\nconst Query_Item = gql`\n  query {\n    FAQItems{\n        Title\n        Group{\n        id\n        Title\n      }\n        Answer\n        Active\n        id\n}\n}`;\n\nconst Update_Item = gql`\nmutation updateItem($id: ID $Title: String $Group: ID $Active: Boolean $Answer: String){\n  updateItem(id: $id ,input:{\n    Title: $Title,\n    Group: $Group,\n    Answer: $Answer,\n    Active: $Active\n  }){\n    item{\n      Title\n      Group{\n        id\n        Title\n      }\n      Answer\n      Active\n      id\n    }\n  }\n}\n`;\n\n\n\nexport const FrequentlyAskedQuestions = () => {\n    const [updateItem] = useMutation(Update_Item);\n        const OnClick = (item: {\n        id: number,\n        Title: string,\n        Answer: string,\n        Active: boolean,\n        Group: { id: number, Title: string }\n    }) => {\n        debugger\n\n        const id = Number(item.id)\n\n        updateItem({\n            variables: {\n                id: id,\n                Title: item.Title,\n                Group: Number(item.Group.id),\n                Answer: item.Answer,\n                Active: !item.Active\n            }\n        });\n    }\n    const {data, loading}: any = useQuery(\n        Query_Groups, {\n            pollInterval: 500 // refetch the result every 0.5 second\n        }\n    );\n\n    const SuitableItems = (props: any) => {\n        const {data, loading}: any = useQuery(\n            Query_Item, {\n                pollInterval: 500 // refetch the result every 0.5 second\n            }\n        );\n        debugger\n        if (loading) return <Preloader/>;\n        // if (!data.items.edges.node) return <Preloader/>\n        const suitableItems = data.FAQItems.filter((i: any) => Number(i.Group.id) === Number(props.Id))\n        return (\n            <div key={props.Id}>\n                {suitableItems.map((item: any) => <div key={item.id}>\n                    <h6 className={[s.item, \"d-flex justify-content-between d-flex align-items-center\"].join(' ')}><span\n                        className=\"text-danger\">{item.Title}</span>\n                        <div\n                            className={cn({[s.active]: item.Active}, s.menu_toogle)}\n                            onClick={() => OnClick(item)}\n                        >\n                        </div>\n                    </h6>\n                    <p className={cn({[s.active]: item.Active}, s.group, s.dropdown)}>{item.Answer}</p>\n                </div>)}\n            </div>\n        )\n    }\n\n    if (loading) return <Preloader/>;\n    return (\n        <div className={s.main}>\n            <h3 className=\"container text-center mt-3 mb-3\">FAQ</h3>\n            <p className=\"middle text-center\">In a professional context it often happens that private or\n                corporate</p>\n            {data.FAQGroups.map((group: any) =>\n                <div key={group.id}>\n                    <div className=\"row border-bottom ml-3 mb-3\"><h5 className={s.group}>{group.Title}</h5></div>\n                    <SuitableItems Id={group.id}/>\n                </div>)}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}