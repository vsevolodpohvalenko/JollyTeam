{"ast":null,"code":"var _jsxFileName = \"/home/seva/Desktop/textilespot-master/frontend/src/component/accounts/Profile/ProfileEdit/ProfileEdit.jsx\";\nimport React, { useState } from \"react\";\nimport Dropzone from \"react-dropzone\";\nimport s from './ProfileEdit.module.css';\nimport defaultImage from '../../../../media/default.jpg';\nimport defaultThumbnail from '../../../../media/thumbnail.jpg';\nimport { profileAPI } from \"../../../../api\";\nimport Select from 'react-select';\n\nlet InputText = props => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: s.doubleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 37\n    }\n  }, props.element), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    placeholder: props.element,\n    id: props.element,\n    value: props.value,\n    onChange: props.onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }\n  }));\n};\n\nconst thumb = {\n  display: 'inline-flex',\n  borderRadius: 10,\n  border: '1px solid #eaeaea',\n  marginBottom: 8,\n  marginRight: 8,\n  width: 100,\n  height: 100,\n  padding: 4,\n  boxSizing: 'border-box'\n};\nconst img = {\n  display: 'block',\n  width: 'auto',\n  height: '100%'\n};\nexport const ProfileEdit = props => {\n  const options = props.countries.map(c => {\n    return {\n      value: c.name,\n      label: c.name\n    };\n  });\n  const categoryOptions = props.category.map(c => {\n    return {\n      value: c.Name,\n      label: c.Name\n    };\n  });\n  const [companyProfilePicture, setCompanyProfilePicture] = useState();\n  const [companyLogo, setCompanyLogo] = useState();\n  const [background, setBackground] = useState(props.previousProfile[props.userID - 1].companyProfilePicture);\n  const [companyName, setCompanyName] = useState(props.previousProfile[props.userID - 1].companyName);\n  const [country, setCountry] = useState(props.previousProfile[props.userID - 1].country);\n  const [companyDescription, setCompanyDescription] = useState(props.previousProfile[props.userID - 1].companyDescription);\n  const [section, setSection] = useState(JSON.parse(props.previousProfile[props.userID - 1].sections));\n  const [Documents, setDocument] = useState(props.documents);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    debugger;\n    let form_data = new FormData();\n    companyProfilePicture !== undefined && form_data.append('companyProfilePicture', companyProfilePicture[0], companyProfilePicture[0].name);\n    companyLogo !== undefined && form_data.append('companyLogo', companyLogo[0], companyLogo[0].name);\n    form_data.append(\"sections\", JSON.stringify(section));\n    form_data.append('companyName', companyName);\n    form_data.append('companyDescription', companyDescription);\n    form_data.append('country', country.value || country);\n    form_data.append('owner', props.userID);\n    const id = props.userID;\n    props.updateManufacturer(form_data, id);\n    Documents.forEach((e, index) => {\n      let form_doc_data = new FormData();\n      form_doc_data.append('Title', e.Title);\n      Documents[index].Thumbnail.name && form_doc_data.append('Thumbnail', e.Thumbnail);\n      Documents[index].Download.name && form_doc_data.append(\"Download\", e.Download);\n      form_doc_data.append('owner', props.userID);\n      props.updateDocument(form_doc_data, props.documents[index].id - 1);\n    });\n  };\n\n  const handleDrop = aceptedFiles => {\n    setCompanyProfilePicture(aceptedFiles.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file)\n    })));\n    setBackground(aceptedFiles.map(file => URL.createObjectURL(file)));\n  };\n\n  const Thumbs = props => {\n    const index = props.index;\n    const file = Documents[index];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: thumb,\n      key: file.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: s.thumbInner,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"thumbnail\",\n      src: (file.Thumbnail.preview ? file.Thumbnail.preview : file.Thumbnail) || defaultThumbnail,\n      style: img,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    })));\n  };\n\n  const handleDrop4 = aceptedFiles => {\n    debugger;\n    setCompanyLogo(aceptedFiles.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file)\n    })));\n  };\n\n  const CustomDropZone = props => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, props.label), /*#__PURE__*/React.createElement(\"section\", {\n      className: s.thumb,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Dropzone, {\n      name: props.name,\n      onDrop: props.onDrop,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, ({\n      getRootProps,\n      getInputProps\n    }) => /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getRootProps({\n      className: \"dropzone\"\n    }), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps(), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: s.clip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }\n    }, props.p), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 33\n      }\n    }, props.h5), !!props.AllowButton && /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 58\n      }\n    }, \"Upload\")))));\n  };\n\n  const SectionhandleInputChange = (e, index) => {\n    debugger;\n    const {\n      name,\n      value\n    } = e;\n    const list = [...section];\n    list[index][name] = value;\n    setSection(list);\n  };\n\n  const DocumenhandleInputChange = (e, index) => {\n    const {\n      name,\n      value\n    } = e.target;\n    const list = [...Documents];\n    list[index][name] = value;\n    setDocument(list);\n  };\n\n  const DocumenthandleInputFileThumbnail = (aceptedFiles, index) => {\n    const {\n      preview\n    } = Object.assign(aceptedFiles[0], {\n      preview: URL.createObjectURL(aceptedFiles[0])\n    });\n    const list = [...Documents];\n    list[index]['Thumbnail'] = aceptedFiles[0];\n    list[index]['preview'] = preview;\n    setDocument(list);\n  };\n\n  const DocumenthandleInputDownload = (aceptedFiles, index) => {\n    debugger;\n    const list = [...Documents];\n    list[index]['Download'] = aceptedFiles[0];\n    setDocument(list);\n  };\n\n  const handleRemoveClick = index => {\n    const list = [...section];\n    list.splice(index, 1);\n    setSection(list);\n  };\n\n  const handleRemoveClick2 = index => {\n    profileAPI.DeleteDocuments(Documents[index].id - 1);\n    const list = [...Documents];\n    list.splice(index, 1);\n    setDocument(list);\n  };\n\n  const handleAddClick = () => {\n    setSection([...section, {\n      Title: \"\",\n      Icon: \"\",\n      Text: \"\"\n    }]);\n  };\n\n  const handleAddClick2 = () => {\n    props.postDocument(props.userID);\n    setDocument([...Documents, {\n      Title: \"\",\n      Thumbnail: \"\",\n      Download: \"\"\n    }]);\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-group\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    style: {\n      backgroundImage: `linear-gradient( rgba(56, 56, 56, 0.596), rgba(56, 56, 56, 0.596) ), url(${background || defaultImage})`\n    },\n    className: s.pic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dropzone, {\n    onDrop: handleDrop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, ({\n    getRootProps,\n    getInputProps\n  }) => /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getRootProps({\n    className: \"dropzone\"\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.compamyPictureform,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.clip,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 33\n    }\n  }, \"Drag & Drop your company picture here\"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 33\n    }\n  }, \"Company Profile Picture\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 33\n    }\n  }, \"Upload\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: s.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: s.double,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    element: \"companyName\",\n    value: companyName,\n    onChange: e => setCompanyName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }\n  }, \"Country\"), /*#__PURE__*/React.createElement(Select, {\n    options: options,\n    defaultValue: {\n      label: country,\n      value: country\n    },\n    placeholder: \"Choose your country\",\n    onChange: e => setCountry(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(InputText, {\n    element: \"companyDescription\",\n    value: companyDescription,\n    onChange: e => setCompanyDescription(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CustomDropZone, {\n    label: \"Company Logo\",\n    AllowButton: 1,\n    onDrop: handleDrop4,\n    p: \"Drag&Drop Your attachments here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }), section.map((x, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 25\n      }\n    }, \"Section\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: s.double,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: s.doubleInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      placeholder: \"Title\",\n      name: \"Title\",\n      value: x.Title,\n      onChange: e => SectionhandleInputChange(e.target, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: s.doubleInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 25\n      }\n    }, \"Icon\"), /*#__PURE__*/React.createElement(Select, {\n      options: categoryOptions,\n      defaultValue: {\n        label: x.Icon,\n        value: x.Icon\n      },\n      placeholder: \"Icon\",\n      onChange: e => SectionhandleInputChange({\n        name: \"Icon\",\n        value: e.value\n      }, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 25\n      }\n    }, \"Text\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      placeholder: \"Text\",\n      name: \"Text\",\n      value: x.Text,\n      onChange: e => SectionhandleInputChange(e.target, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 25\n      }\n    }, section.length !== 1 && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-danger\",\n      onClick: () => handleRemoveClick(i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 29\n      }\n    }, \"Remove\"), section.length - 1 === i && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-danger\",\n      onClick: () => {\n        handleAddClick();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 58\n      }\n    }, \"Add 1 Section\")));\n  }), Documents.map((y, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 25\n      }\n    }, \"Document\"), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 25\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      placeholder: \"Title\",\n      name: \"Title\",\n      value: y.Title,\n      onChange: e => DocumenhandleInputChange(e, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Thumbs, {\n      documents: props.documents,\n      userID: props.userID,\n      index: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(CustomDropZone, {\n      name: \"Thumbnail\",\n      label: \"Thumbnail\",\n      AllowButton: 0,\n      onDrop: aceptedFiles => DocumenthandleInputFileThumbnail(aceptedFiles, i),\n      p: \"Drag&Drop Your attachments here\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(CustomDropZone, {\n      name: \"Download\",\n      label: \"Download\",\n      AllowButton: 1,\n      onDrop: aceptedFiles => DocumenthandleInputDownload(aceptedFiles, i),\n      p: \"Drag&Drop Your attachments here\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 25\n      }\n    }, Documents.length !== 1 && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-danger\",\n      onClick: () => handleRemoveClick2(i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 29\n      }\n    }, \"Remove\"), Documents.length - 1 === i && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-danger\",\n      onClick: () => {\n        handleAddClick2();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 60\n      }\n    }, \"Add 1 Document\")));\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: s.button,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 13\n    }\n  }, \"Send Form\")));\n};","map":{"version":3,"sources":["/home/seva/Desktop/textilespot-master/frontend/src/component/accounts/Profile/ProfileEdit/ProfileEdit.jsx"],"names":["React","useState","Dropzone","s","defaultImage","defaultThumbnail","profileAPI","Select","InputText","props","doubleInput","element","value","onChange","thumb","display","borderRadius","border","marginBottom","marginRight","width","height","padding","boxSizing","img","ProfileEdit","options","countries","map","c","name","label","categoryOptions","category","Name","companyProfilePicture","setCompanyProfilePicture","companyLogo","setCompanyLogo","background","setBackground","previousProfile","userID","companyName","setCompanyName","country","setCountry","companyDescription","setCompanyDescription","section","setSection","JSON","parse","sections","Documents","setDocument","documents","handleSubmit","e","preventDefault","form_data","FormData","undefined","append","stringify","id","updateManufacturer","forEach","index","form_doc_data","Title","Thumbnail","Download","updateDocument","handleDrop","aceptedFiles","file","Object","assign","preview","URL","createObjectURL","Thumbs","thumbInner","handleDrop4","CustomDropZone","onDrop","getRootProps","getInputProps","className","clip","p","h5","AllowButton","SectionhandleInputChange","list","DocumenhandleInputChange","target","DocumenthandleInputFileThumbnail","DocumenthandleInputDownload","handleRemoveClick","splice","handleRemoveClick2","DeleteDocuments","handleAddClick","Icon","Text","handleAddClick2","postDocument","backgroundImage","pic","compamyPictureform","main","double","select","x","i","length","y","button"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport Dropzone from \"react-dropzone\";\nimport s from './ProfileEdit.module.css'\nimport defaultImage from '../../../../media/default.jpg'\nimport defaultThumbnail from '../../../../media/thumbnail.jpg'\nimport {profileAPI} from \"../../../../api\";\nimport Select from 'react-select'\n\n\nlet InputText = (props) => {\n    return (<div id={s.doubleInput}><label>{props.element}</label>\n            <input className='form-control'  type=\"text\" placeholder={props.element} id={props.element}\n                   value={props.value} onChange={props.onChange} />\n        </div>\n    )\n}\nconst thumb = {\n    display: 'inline-flex',\n    borderRadius: 10,\n    border: '1px solid #eaeaea',\n    marginBottom: 8,\n    marginRight: 8,\n    width: 100,\n    height: 100,\n    padding: 4,\n    boxSizing: 'border-box'\n};\n\n\nconst img = {\n    display: 'block',\n    width: 'auto',\n    height: '100%'\n\n};\n\nexport const ProfileEdit = (props) => {\n    const options = props.countries.map(c => {\n        return {value: c.name, label: c.name}\n    })\n    const categoryOptions = props.category.map(c => {\n        return {value: c.Name, label: c.Name}\n    })\n\n    const [companyProfilePicture, setCompanyProfilePicture] = useState();\n\n    const [companyLogo, setCompanyLogo] = useState();\n    const [background, setBackground] = useState(props.previousProfile[(props.userID)-1].companyProfilePicture)\n    const [companyName, setCompanyName] = useState( props.previousProfile[(props.userID)-1].companyName )\n    const [country, setCountry] = useState(props.previousProfile[(props.userID)-1].country)\n    const [companyDescription, setCompanyDescription] = useState(props.previousProfile[(props.userID)-1].companyDescription)\n    const [section, setSection] = useState(JSON.parse(props.previousProfile[(props.userID)-1].sections));\n    const [Documents, setDocument] = useState( props.documents);\n\n\n\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        debugger\n        let form_data = new FormData();\n        companyProfilePicture !== undefined && (form_data.append('companyProfilePicture', companyProfilePicture[0], companyProfilePicture[0].name))\n        companyLogo !== undefined && (form_data.append('companyLogo',  companyLogo[0], companyLogo[0].name));\n        form_data.append(\"sections\", JSON.stringify(section))\n        form_data.append('companyName', companyName);\n        form_data.append('companyDescription', companyDescription);\n        form_data.append('country', country.value || country);\n        form_data.append('owner', props.userID);\n        const id = props.userID\n        props.updateManufacturer(form_data, id)\n\n        Documents.forEach( (e, index)=> {\n            let form_doc_data = new FormData();\n            form_doc_data.append('Title', e.Title);\n            Documents[index].Thumbnail.name  &&   form_doc_data.append('Thumbnail', e.Thumbnail);\n            Documents[index].Download.name && form_doc_data.append(\"Download\", e.Download)\n            form_doc_data.append('owner', props.userID);\n            props.updateDocument(form_doc_data, (props.documents[index].id)-1)\n        })\n\n\n    }\n\n\n    const handleDrop = aceptedFiles => {\n        setCompanyProfilePicture(aceptedFiles.map(file => Object.assign(file, {\n            preview: URL.createObjectURL(file)\n        })));\n        setBackground(aceptedFiles.map(file => URL.createObjectURL(file)))\n    }\n\n    const Thumbs = (props) => {\n        const index = props.index\n        const file = Documents[index]\n            return (\n        <div style={thumb} key={file.name}>\n            <div className={s.thumbInner}>\n                <img\n                    alt=\"thumbnail\"\n                    src={(file.Thumbnail.preview ? file.Thumbnail.preview : file.Thumbnail) || defaultThumbnail}\n                    style={img}\n                />\n            </div>\n        </div>)\n    }\n\n\n    const handleDrop4 = aceptedFiles => {\n        debugger\n        setCompanyLogo(aceptedFiles.map(file => Object.assign(file, {\n            preview: URL.createObjectURL(file)\n        })));\n    }\n    const CustomDropZone = (props) => {\n\n        return  (\n            <div>\n                <label>{props.label}</label>\n                <section className={s.thumb}>\n\n                    <Dropzone name={props.name} onDrop={props.onDrop}>\n                        {({getRootProps, getInputProps}) => (\n                            <div {...getRootProps({className: \"dropzone\"})}>\n\n                                <input {...getInputProps()} />\n                                <div className={s.clip}/>\n                                <p>{props.p}</p>\n                                <h5>{props.h5}</h5>\n\n                                {!!props.AllowButton && (<button type=\"button\">\n                                    Upload\n                                </button>)}\n                            </div>\n                        )}\n                    </Dropzone>\n                </section>\n            </div>\n        )\n    }\n\n    const SectionhandleInputChange = (e, index) => {\n        debugger\n        const {name, value} = e;\n        const list = [...section];\n        list[index][name] = value;\n        setSection(list);\n    };\n\n\n\n    const DocumenhandleInputChange = (e, index) => {\n        const {name, value} = e.target;\n        const list = [...Documents];\n        list[index][name] = value;\n        setDocument(list);\n    };\n\n\n    const DocumenthandleInputFileThumbnail = (aceptedFiles, index) => {\n        const {preview} = Object.assign(aceptedFiles[0], {preview: URL.createObjectURL(aceptedFiles[0])});\n        const list = [...Documents];\n        list[index]['Thumbnail'] = aceptedFiles[0];\n        list[index]['preview'] = preview;\n\n        setDocument(list);\n    }\n\n    const DocumenthandleInputDownload = (aceptedFiles, index) => {\n        debugger\n        const list = [...Documents];\n        list[index]['Download'] = aceptedFiles[0];\n\n\n        setDocument(list);\n    }\n\n\n    const handleRemoveClick = index => {\n        const list = [...section];\n        list.splice(index, 1);\n        setSection(list);\n    };\n\n    const handleRemoveClick2 = index => {\n        profileAPI.DeleteDocuments((Documents[index].id)-1)\n        const list = [...Documents];\n        list.splice(index, 1);\n        setDocument(list);\n    };\n\n    const handleAddClick = () => {\n        setSection([...section, {Title: \"\", Icon: \"\", Text: \"\"}]);\n    };\n\n    const handleAddClick2 = () => {\n        props.postDocument(props.userID)\n        setDocument([...Documents, {Title: \"\", Thumbnail: \"\", Download: \"\"}])\n\n\n    };\n\n\n\n    return  (\n        <form  className=\"form-group\" onSubmit={handleSubmit}>\n            <section style={\n                {backgroundImage: `linear-gradient( rgba(56, 56, 56, 0.596), rgba(56, 56, 56, 0.596) ), url(${background || defaultImage})`}}\n                     className={s.pic}>\n                <Dropzone onDrop={handleDrop}>\n                    {({getRootProps, getInputProps}) => (\n                        <div {...getRootProps({className: \"dropzone\"})}>\n                            <div className={s.compamyPictureform}>\n                                <input {...getInputProps()} />\n                                <div className={s.clip}/>\n                                <p>Drag & Drop your company picture here</p>\n                                <h5>Company Profile Picture</h5>\n                                <button type=\"button\">\n                                    Upload\n                                </button>\n                            </div>\n                        </div>\n\n                    )}\n                </Dropzone>\n            </section>\n            <div id={s.main}>\n            <div className={s.double}>\n            <InputText element=\"companyName\" value={companyName} onChange={e => setCompanyName(e.target.value)} />\n            <div className={s.select}>\n            <label>Country</label>\n            <Select options={options} defaultValue={{ label: country, value: country }} placeholder={\"Choose your country\"} onChange={(e) => setCountry(e)}/>\n            </div>\n            </div>\n            <InputText element=\"companyDescription\" value={companyDescription}\n                       onChange={e => setCompanyDescription(e.target.value)} />\n            <CustomDropZone label=\"Company Logo\" AllowButton={1} onDrop={handleDrop4}\n                            p=\"Drag&Drop Your attachments here\"/>\n\n            {section.map((x, i) => {\n                return (\n                    <div key={i}>\n                        <h2>Section</h2>\n                        <div className={s.double}>\n                        <div id={s.doubleInput}>\n                        <label>Title</label>\n                        <input className='form-control' placeholder=\"Title\" name=\"Title\" value={x.Title}\n                               onChange={e => SectionhandleInputChange(e.target, i)}/>\n                        </div>\n                        <div id={s.doubleInput}>\n                        <label>Icon</label>\n                        <Select options={categoryOptions} defaultValue={{ label: x.Icon, value: x.Icon }}    placeholder=\"Icon\"  onChange={e => SectionhandleInputChange({\n                            name: \"Icon\",\n                            value: e.value\n                        }, i)}/>\n                        </div>\n                        </div>\n                        <label>Text</label>\n                        <input className='form-control' placeholder=\"Text\" name=\"Text\" value={x.Text}\n                               onChange={e => SectionhandleInputChange(e.target, i)}/>\n                        <div>\n                            {section.length !== 1 &&\n                            <div className=\"text-danger\" onClick={() => handleRemoveClick(i)}>Remove</div>}\n                            {section.length - 1 === i && <div className=\"text-danger\" onClick={() => {\n                                handleAddClick()\n                            }}>Add 1 Section</div>}\n                        </div>\n                    </div>\n                )\n            })}\n\n\n            {Documents.map((y, i) => {\n                return (\n                    <div key={i}>\n                        <h2>Document</h2>\n                        <label>Title</label>\n                        <input className='form-control' placeholder=\"Title\" name=\"Title\" value={y.Title}\n                               onChange={e => DocumenhandleInputChange(e, i)}/>\n\n                        <Thumbs documents = {props.documents} userID = {props.userID} index = {i}/>\n\n                        <CustomDropZone name=\"Thumbnail\" label=\"Thumbnail\" AllowButton={0}\n                                        onDrop={aceptedFiles => DocumenthandleInputFileThumbnail(aceptedFiles, i)}\n                                        p=\"Drag&Drop Your attachments here\"/>\n                        <CustomDropZone name=\"Download\" label=\"Download\" AllowButton={1}\n                                        onDrop={aceptedFiles => DocumenthandleInputDownload(aceptedFiles, i)}\n                                        p=\"Drag&Drop Your attachments here\"/>\n                        <div>\n                            {Documents.length !== 1 &&\n                            <div className=\"text-danger\" onClick={() => handleRemoveClick2(i)}>Remove</div>}\n                            {Documents.length - 1 === i && <div className=\"text-danger\" onClick={() => {\n                                handleAddClick2()\n                            }}>Add 1 Document</div>}\n                        </div>\n                    </div>\n                )\n            })}\n            <button className={s.button} type={\"submit\"}>Send Form</button>\n            </div>\n        </form>\n    )\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}